# Please see https://i3wm.org/docs/userguide.html for a complete reference!

# use win/alt/control key
set $mod Mod4
set $alt Mod1
set $ctrl Control
set $shift Shift

font pango:Source Sans Pro 10

# Fefine names for workspaces
set $ws1 "1: terminal"
set $ws2 "2: browser"
set $ws3 "3: chats"
set $ws4 "4: media"
set $ws5 "5: codes"
set $ws6 "6: office"
set $ws7 "7: pc"
set $ws8 "8: art"
set $ws9 "9: games"

# Use $mod+Mouse to drag floating windows to their wanted position
floating_modifier $mod

# Audio/Brightness Control
bindsym XF86AudioRaiseVolume exec --no-startup-id "pactl set-sink-mute @DEFAULT_SINK@ false; pactl set-sink-volume @DEFAULT_SINK@ +5%"
bindsym XF86AudioLowerVolume exec --no-startup-id "pactl set-sink-mute @DEFAULT_SINK@ false; pactl set-sink-volume @DEFAULT_SINK@ -5%"
bindsym XF86AudioMute exec --no-startup-id "pactl set-sink-mute 0 toggle"

bindsym XF86MonBrightnessUp exec  --no-startup-id echo $((`cat /sys/class/backlight/intel_backlight/brightness` + 10)) | sudo tee /sys/class/backlight/intel_backlight/brightness
bindsym XF86MonBrightnessDown exec  --no-startup-id echo $((`cat /sys/class/backlight/intel_backlight/brightness` - 10)) | sudo tee /sys/class/backlight/intel_backlight/brightness

# Close window
bindsym $mod+w kill

# Start Rofi
bindsym $mod+d exec --no-startup-id rofi -show drun -display-run -show-icons -width 30 "Arch Linux -"

# Move windows
bindsym $mod+$shift+Left move left
bindsym $mod+$shift+Down move down
bindsym $mod+$shift+Up move up
bindsym $mod+$shift+Right move right

# Enter fullscreen mode with window focused
bindsym $mod+f fullscreen toggle

# Floating window
bindsym $ctrl+$shift+space floating toggle

# Workspaces
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9

# Move to workspace
bindsym $ctrl+$shift+1 move container to workspace $ws1; workspace $ws1
bindsym $ctrl+$shift+2 move container to workspace $ws2; workspace $ws2
bindsym $ctrl+$shift+3 move container to workspace $ws3; workspace $ws3
bindsym $ctrl+$shift+4 move container to workspace $ws4; workspace $ws4
bindsym $ctrl+$shift+5 move container to workspace $ws5; workspace $ws5
bindsym $ctrl+$shift+6 move container to workspace $ws6; workspace $ws6
bindsym $ctrl+$shift+7 move container to workspace $ws7; workspace $ws7
bindsym $ctrl+$shift+8 move container to workspace $ws8; workspace $ws8
bindsym $ctrl+$shift+9 move container to workspace $ws9; workspace $ws9

# Next workspaces
bindsym $mod+Tab workspace next
bindsym $alt+Tab workspace next

# Restart i3
bindsym $mod+$shift+r restart

# i3-gaps
gaps inner 25
gaps outer 10
hide_edge_borders smart
focus_on_window_activation focus

# Rezise
mode "resize" {
        bindsym Left resize shrink width 20 px or 20 ppt
        bindsym Down resize grow height 20 px or 20 ppt
        bindsym Up resize shrink height 20 px or 20 ppt
        bindsym Right resize grow width 20 px or 20 ppt

        bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

# Startup
exec_always --no-startup-id $HOME/.local/bin/wallpaper.sh
exec_always --no-startup-id $HOME/.config/polybar/launch.sh
exec_always --no-startup-id $HOME/.local/bin/xdg.sh
exec_always --no-startup-id xrdb -merge $HOME/.Xresources
exec --no-startup-id compton -C
exec --no-startup-id dunst
exec --no-startup-id numlockx on
exec --no-startup-id pulseeffects --gapplication-service &>/dev/null
exec --no-startup-id "pactl set-sink-mute @DEFAULT_SINK@ false; pactl set-sink-volume @DEFAULT_SINK@ 50%"
exec --no-startup-id xautolock -time 10 -detectsleep -locker $HOME/.local/bin/i3lock.sh &

# Screenshot & Screencast
bindsym Insert exec --no-startup-id $HOME/.local/bin/screenshot.sh -s Recorte
bindsym $ctrl+Insert exec --no-startup-id $HOME/.local/bin/screenshot.sh -u Fullscreen
bindsym $ctrl+K exec --no-startup-id $HOME/.local/bin/screencast.sh -start
bindsym $ctrl+$shift+K exec --no-startup-id $HOME/.local/bin/screencast.sh

# Application shortcuts
bindsym $mod+Return exec --no-startup-id termite &; workspace $ws1
bindsym $mod+e exec --no-startup-id thunar &; workspace $ws7
bindsym $mod+F2 exec --no-startup-id firefox &; workspace $ws2
bindsym $mod+F3 exec --no-startup-id telegram-desktop &; workspace $ws3
bindsym $mod+F4 exec --no-startup-id franz &; workspace $ws3

# System shortcuts
bindsym F7 exec --no-startup-id termite -e $HOME/.local/bin/gitcron.sh
bindsym F8 exec --no-startup-id $HOME/.config/polybar/launch.sh
bindsym F9 exec --no-startup-id termite -e $HOME/.local/bin/pgks.sh
bindsym F10 exec --no-startup-id termite -t git-dotfiles -e $HOME/.local/bin/gitcron-dotfiles.sh &; workspace $ws5
bindsym F11 exec --no-startup-id $HOME/.dotfiles/install.sh
bindsym F12 exec --no-startup-id termite -e $HOME/.local/bin/pacman.sh

# Rules
# xprop |awk '/^WM_CLASS/{sub(/.* =/, "instance:"); sub(/,/, "\nclass:"); print} /^WM_NAME/{sub(/.* =/, "title:"); print}'

for_window [class="^.*"] border pixel 0, focus

for_window [window_role="pop-up|bubble|task_dialog|Preferences"] floating enable, move position center, focus
for_window [window_type="dialog|menu"] floating enable, move position center, focus
for_window [title="Open Folder*"] floating enable, resize set 700 px 500 px, move position center, focus
for_window [title="Media viewer"] fullscreen enable, focus
for_window [title="Escolha uma imagem"] floating enable, focus

for_window [class="Termite"] focus
for_window [class="Wicd-client.py"] move to workspace $ws1, floating enable, resize set 800 px 400 px, focus
for_window [title="git-dotfiles"] move to workspace $ws5, floating enable, resize set 600 px 300 px, focus

for_window [class="Firefox"] move to workspace $ws2, focus
for_window [title="Biblioteca"] floating enable, resize set 800 px 540 px, focus

for_window [class="Franz"] move to workspace $ws3, floating enable, resize set 1100 px 800 px, focus
for_window [class="TelegramDesktop"] move to workspace $ws3, floating enable, resize set 930 px 810 px, focus

for_window [class="Spotify|smplayer|Steam"] move to workspace $ws4, focus
for_window [title="Lista de amigos"] move to workspace $ws4, floating enable, resize set 320 px 600 px, focus
for_window [title="Steam — Novidades*"] move to workspace $ws4, floating enable, resize set 410 px 600 px, focus

for_window [class="Atom"] move to workspace $ws5, focus
for_window [class="Electron"] move to workspace $ws5, floating enable, focus

for_window [class="libreoffice-startcenter|libreoffice-writer|libreoffice-draw|libreoffice-presentation|libreoffice-impress|libreoffice-calc"] move to workspace $ws6, focus
for_window [class="Lxappearance|Thunar|qbittorrent"] move to workspace $ws7, floating enable, focus
for_window [class="Filezilla"] move to workspace $ws7, focus
for_window [class="Galculator"] floating enable, resize set 380 px 440 px, move position center, focus

for_window [class="Pinta"] move to workspace $ws8, focus
for_window [class="Gpicview|feh"] move to workspace $ws8, focus

for_window [class="Wine|csgo_linux64"] move to workspace $ws9, focus

# Workspaces
assign [class="^Termite|Wicd-client.py"] $ws1
assign [class="^Firefox"] $ws2
assign [class="^TelegramDesktop|Franz"] $ws3
assign [class="^Spotify|smplayer|Steam"] $ws4
assign [class="^Atom"] $ws5
assign [class="^libreoffice-startcenter|libreoffice-writer|libreoffice-draw|libreoffice-presentation|libreoffice-impress|libreoffice-calc"] $ws6
assign [class="^Lxappearance|qBittorrent|Filezilla|Thunar"] $ws7
assign [class="^Pinta|Gpicview|feh"] $ws8
assign [class="^Wine|csgo_linux64"] $ws9
