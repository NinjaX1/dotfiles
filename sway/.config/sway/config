exec waybar

input "type:keyboard" {
    xkb_layout br
}

input 1267:12586:ELAN0504:01_04F3:312A_Touchpad {
    left_handed disabled
    tap enabled
    natural_scroll enabled
    dwt enabled
    pointer_accel 0.7 # set mouse sensitivity (between -1 and 1)
}

font pango:SourceCodePro Medium ,10

# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout somewhen, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# use super/alt/control key
set $super Mod4
set $alt Mod1
set $control Control
set $shift Shift

# Define names for workspaces
set $ws1 "1: terminal"
set $ws2 "2: browser"
set $ws3 "3: atom"
set $ws4 "4: telegram"
set $ws5 "5: media"
set $ws6 "6: ofice"
set $ws7 "7: pc"
set $ws8 "8: art"
set $ws9 "9: empty"

# Use $super+Mouse to drag floating windows to their wanted position
floating_modifier $super

# Close window
bindsym $super+w kill

# Move windows
bindsym $control+$shift+Left move left
bindsym $control+$shift+Down move down
bindsym $control+$shift+Up move up
bindsym $control+$shift+Right move right

# Enter fullscreen mode with window focused
bindsym $super+f fullscreen toggle

# Floating window
bindsym $control+$shift+space floating toggle

# Workspaces
bindsym $super+1 workspace $ws1
bindsym $super+2 workspace $ws2
bindsym $super+3 workspace $ws3
bindsym $super+4 workspace $ws4
bindsym $super+5 workspace $ws5
bindsym $super+6 workspace $ws6
bindsym $super+7 workspace $ws7
bindsym $super+8 workspace $ws8
bindsym $super+9 workspace $ws9

# Move to workspace
bindsym $control+$shift+1 move container to workspace $ws1; workspace $ws1
bindsym $control+$shift+2 move container to workspace $ws2; workspace $ws2
bindsym $control+$shift+3 move container to workspace $ws3; workspace $ws3
bindsym $control+$shift+4 move container to workspace $ws4; workspace $ws4
bindsym $control+$shift+5 move container to workspace $ws5; workspace $ws5
bindsym $control+$shift+6 move container to workspace $ws6; workspace $ws6
bindsym $control+$shift+7 move container to workspace $ws7; workspace $ws7
bindsym $control+$shift+8 move container to workspace $ws8; workspace $ws8
bindsym $control+$shift+9 move container to workspace $ws9; workspace $ws9

# Next workspaces
bindsym $super+Tab workspace next

# split in horizontal orientation
#bindsym $control+$shift+h split h

# split in vertical orientation
#bindsym $control+$shift+v split v

# i3-gaps
gaps inner 10
gaps outer 0
default_border pixel 0
default_floating_border none
hide_edge_borders --i3 none
focus_on_window_activation focus

# Rezise
mode "resize" {
        bindsym Left resize shrink width 20 px or 20 ppt
        bindsym Down resize grow height 20 px or 20 ppt
        bindsym Up resize shrink height 20 px or 20 ppt
        bindsym Right resize grow width 20 px or 20 ppt

        bindsym $super+r mode "default"
}
bindsym $super+r mode "resize"

# Startup
exec_always --no-startup-id ~/.bin/scripts/battery.sh
exec_always --no-startup-id ~/.bin/scripts/wallpaper.sh
exec_always --no-startup-id xrdb -merge $HOME/.Xresources

exec_always --no-startup-id sudo mount /dev/sda3 /media/storage
exec --no-startup-id xrdb ~/.Xresources
exec --no-startup-id mako
exec --no-startup-id pulseeffects --gapplication-service &>/dev/null
exec --no-startup-id sudo timedatectl set-ntp true && sudo hwclock --systohc
exec --no-startup-id sudo hwclock --systohc --utc && sudo timedatectl set-ntp true
exec --no-startup-id "pactl set-sink-mute @DEFAULT_SINK@ false; pactl set-sink-volume @DEFAULT_SINK@ 50%"

# wayland replaces xorg
#exec --no-startup-id xidlehook --not-when-audio --not-when-fullscreen --timer 600 '~/.bin/scripts/i3lock.sh -t -ef -n' ''
#exec --no-startup-id xinput --set-prop 13 'libinput Accel Speed' 0.7

# Shortcuts
# Start Rofi menu
bindsym $super+d exec --no-startup-id wofi -show

# Audio/Brightness Control
bindsym XF86AudioRaiseVolume exec --no-startup-id "pactl set-sink-mute @DEFAULT_SINK@ false; pactl set-sink-volume @DEFAULT_SINK@ +1%"
bindsym XF86AudioLowerVolume exec --no-startup-id "pactl set-sink-mute @DEFAULT_SINK@ false; pactl set-sink-volume @DEFAULT_SINK@ -1%"
bindsym XF86AudioMute exec --no-startup-id "pactl set-sink-mute 0 toggle"

bindsym XF86MonBrightnessUp exec  --no-startup-id echo $((`cat /sys/class/backlight/amdgpu_bl0/brightness` + 5)) | sudo tee /sys/class/backlight/amdgpu_bl0/brightness
bindsym XF86MonBrightnessDown exec  --no-startup-id echo $((`cat /sys/class/backlight/amdgpu_bl0/brightness` - 5)) | sudo tee /sys/class/backlight/amdgpu_bl0/brightness

# Screenshot
bindsym Print exec --no-startup-id ~/.bin/scripts/screenshot.sh -s Recorte
bindsym $control+Print exec --no-startup-id ~/.bin/scripts/screenshot.sh -u Fullscreen

# Screencast
bindsym $control+$shift+K exec --no-startup-id ~/.bin/scripts/screencast.sh

# Application shortcuts
bindsym $super+Return exec --no-startup-id alacritty &; workspace $ws1
bindsym $super+e exec --no-startup-id thunar &; workspace $ws7
bindsym $super+F2 exec --no-startup-id chromium &; workspace $ws2
bindsym $super+F3 exec --no-startup-id telegram-desktop &; workspace $ws4

# System shortcuts
bindsym F10 exec --no-startup-id ~/.bin/scripts/commiter.sh &
bindsym F11 exec --no-startup-id ~/.dotfiles/install.sh

# Get rules
# xprop |awk '/^WM_CLASS/{sub(/.* =/, "instance:"); sub(/,/, "\nclass:"); print} /^WM_NAME/{sub(/.* =/, "title:"); print}'

for_window [class=".*"] border pixel 0, focus

# Titles, windows, instances
for_window [window_role="pop-up|bubble|task_dialog|Preferences"] floating enable, move position center, focus
for_window [title="Open Folder*"] floating enable, resize set 700 px 500 px, move position center, focus
for_window [title="Media viewer"] fullscreen enable, focus
for_window [title="Escolha uma imagem"] floating enable, focus
for_window [instance="Navigator"] move to workspace $ws2, focus

# Workspace 1 [terminal]
for_window [class="Alacritty"] move to workspace $ws1, focus

# Workspace 2 [browser]
for_window [class="Chromium"] move to workspace $ws2, focus

# Workspace 3 [atom]
for_window [class="Atom"] move to workspace $ws3, focus
for_window [class="Electron"] move to workspace $ws3, floating enable, focus
for_window [title="newcommit"] move to workspace $ws3, floating enable, resize set 600 px 250 px, move right -300px, move down 0px, focus

# Workspace 4 [telegram]
for_window [class="TelegramDesktop"] move to workspace $ws4, focus

# Workspace 5 [media]
for_window [class="Spotify"] move to workspace $ws5, focus

# Workspace 6 [office]
for_window [class="Wpspdf|Wpp|Wps|Et"] move to workspace $ws6, focus

# Workspace 7 [pc]
for_window [class="Lxappearance|Thunar|Transmission-gtk"] move to workspace $ws7, floating enable, focus

# Workspace 8 [art]
for_window [class="Pinta|Gpicview|fireworks.exe"] move to workspace $ws8, focus

# Workspace 9 [empty]

# all workspaces
# empty
